<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ダイエット＆健康トラッカー</title>
    <link rel="stylesheet" href="style.css">
    <!-- Chart.js CDNの読み込み -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- このバージョンではPWA Manifest、Service Worker、Google Iconsは使用しません -->
    <!-- <link rel="manifest" href="manifest.json"> -->
    <!-- <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"> -->
</head>
<body>
    <div class="container">
        <h1>Health Tracker</h1>

        <!-- 最新の記録サマリー（カードデザイン） -->
        <section class="card summary-card">
            <h2>最新の記録</h2>
            <div id="latestRecordSummary" class="summary-grid">
                <div class="summary-item">
                    <span class="summary-label">日付</span>
                    <span id="summaryDate" class="summary-value">-</span>
                </div>
                <div class="summary-item">
                    <span class="summary-label">体重</span>
                    <span id="summaryWeight" class="summary-value">-</span>
                    <span class="summary-unit">kg</span>
                </div>
                <div class="summary-item">
                    <span class="summary-label">体脂肪率</span>
                    <span id="summaryBodyFat" class="summary-value">-</span>
                    <span class="summary-unit">%</span>
                </div>
                <div class="summary-item">
                    <span class="summary-label">筋肉量</span>
                    <span id="summaryMuscleMass" class="summary-value">-</span>
                    <span class="summary-unit">kg</span>
                </div>
                <div class="summary-item">
                    <span class="summary-label">ウエスト</span>
                    <span id="summaryWaist" class="summary-value">-</span>
                    <span class="summary-unit">cm</span>
                </div>
            </div>
            <p id="noLatestRecordMessage" class="no-records-message">まだ記録がありません。</p>
        </section>

        <!-- 記録入力フォーム（カードデザイン） -->
        <section class="card record-form-card">
            <h2>記録入力</h2>
            <form id="trackerForm">
                <div class="form-group">
                    <label for="date">日付</label>
                    <input type="date" id="date" required>
                </div>
                <div class="form-group">
                    <label for="weight">体重 (kg)</label>
                    <input type="number" id="weight" step="0.1" placeholder="75.0" required>
                </div>
                <div class="form-group">
                    <label for="bodyFat">体脂肪率 (%)</label>
                    <input type="number" id="bodyFat" step="0.1" placeholder="20.5">
                </div>
                <div class="form-group">
                    <label for="muscleMass">筋肉量 (kg)</label>
                    <input type="number" id="muscleMass" step="0.1" placeholder="55.2">
                </div>
                <div class="form-group">
                    <label for="waist">ウエスト (cm)</label>
                    <input type="number" id="waist" step="0.1" placeholder="92.0" required>
                </div>
                <!-- 食事プラン、運動プラン、金額記録は一旦削除し、シンプルに -->
                <!-- <div class="form-group">
                    <label>食事プラン</label>
                    <div id="mealPlanList" class="checklist">
                        <label><input type="checkbox" name="meal" value="breakfast"> 朝食</label>
                        <label><input type="checkbox" name="meal" value="lunch"> 昼食</label>
                        <label><input type="checkbox" name="meal" value="dinner"> 夕食</label>
                        <label><input type="checkbox" name="meal" value="snack"> 間食</label>
                    </div>
                </div>
                <div class="form-group">
                    <label for="mealCost">食事にかかった金額 (円)</label>
                    <input type="number" id="mealCost" step="1" placeholder="例: 1500">
                </div>
                <div class="form-group">
                    <label>運動プラン</label>
                    <div id="exercisePlanList" class="checklist">
                        <label><input type="checkbox" name="exercise" value="running"> ランニング (30分)</label>
                        <label><input type="checkbox" name="exercise" value="weightTraining"> 筋トレ (全身)</label>
                        <label><input type="checkbox" name="exercise" value="stretching"> ストレッチ (20分)</label>
                    </div>
                </div> -->
                <button type="submit" class="button primary-button">記録する</button>
            </form>
            <p id="message" class="message"></p>
        </section>

        <!-- グラフ表示 -->
        <section class="card chart-card">
            <h2>推移グラフ</h2>
            <div class="chart-controls">
                <div class="chart-control-group">
                    <label for="chartType">表示項目:</label>
                    <select id="chartType">
                        <option value="weight">体重</option>
                        <option value="waist">ウエスト</option>
                        <option value="bodyFat">体脂肪率</option>
                        <option value="muscleMass">筋肉量</option>
                        <!-- <option value="mealCost">食事金額</option> -->
                    </select>
                </div>
                <div class="chart-control-group">
                    <label for="chartPeriod">期間:</label>
                    <select id="chartPeriod">
                        <option value="all">全期間</option>
                        <option value="7days">過去7日</option>
                        <option value="30days">過去30日</option>
                        <option value="90days">過去90日</option>
                    </select>
                </div>
            </div>
            <canvas id="myChart"></canvas>
            <p id="noChartDataMessage" class="no-records-message">グラフ表示のためのデータがありません。</p>
        </section>

        <!-- 記録一覧 -->
        <section class="card record-list-card">
            <h2>記録一覧</h2>
            <div id="recordTableContainer">
                <table id="recordsTable">
                    <thead>
                        <tr>
                            <th>日付</th>
                            <th>体重</th>
                            <th>体脂肪率</th>
                            <th>筋肉量</th>
                            <th>ウエスト</th>
                            <th>操作</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- 記録データがここに挿入されます -->
                    </tbody>
                </table>
                <p id="noTableRecordsMessage" class="no-records-message">まだ記録がありません。</p>
            </div>
            <button id="clearAllRecords" class="button danger-button">全記録削除</button>
        </section>
    </div>

    <script src="app.js"></script>
</body>
</html>
